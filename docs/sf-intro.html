<!DOCTYPE html>
<html lang="es" xml:lang="es">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.2 Introducción al paquete sf | Estadística Espacial con R</title>
  <meta name="description" content="Apuntes de Estadística Espacial (para las asignaturas: ‘Análisis estadístico de datos con dependencia’ del Grado en Ciencia e Ingeniería de Datos y ‘Aprendizaje estadístico’ del Máster InterUniversitario en Técnicas Estadísticas)." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="2.2 Introducción al paquete sf | Estadística Espacial con R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Apuntes de Estadística Espacial (para las asignaturas: ‘Análisis estadístico de datos con dependencia’ del Grado en Ciencia e Ingeniería de Datos y ‘Aprendizaje estadístico’ del Máster InterUniversitario en Técnicas Estadísticas)." />
  <meta name="github-repo" content="rubenfcasal/estadistica_espacial" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.2 Introducción al paquete sf | Estadística Espacial con R" />
  
  <meta name="twitter:description" content="Apuntes de Estadística Espacial (para las asignaturas: ‘Análisis estadístico de datos con dependencia’ del Grado en Ciencia e Ingeniería de Datos y ‘Aprendizaje estadístico’ del Máster InterUniversitario en Técnicas Estadísticas)." />
  

<meta name="author" content="Rubén Fernández Casal (MODES, CITIC, UDC; ruben.fcasal@udc.es)" />
<meta name="author" content="Tomás Cotos Yáñez (SIDOR, UVIGO; cotos@uvigo.es)" />


<meta name="date" content="2021-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="datos-tipos.html"/>
<link rel="next" href="representación-de-datos-espaciales.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.19/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estadística Espacial con R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prólogo</a></li>
<li class="chapter" data-level="1" data-path="intro-estesp.html"><a href="intro-estesp.html"><i class="fa fa-check"></i><b>1</b> Introducción: Procesos espaciales y Geoestadística</a>
<ul>
<li class="chapter" data-level="1.1" data-path="proc-esp.html"><a href="proc-esp.html"><i class="fa fa-check"></i><b>1.1</b> Procesos espaciales</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="proc-esp.html"><a href="proc-esp.html#paquetes-r"><i class="fa fa-check"></i><b>1.1.1</b> Paquetes de R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="geoestadistica.html"><a href="geoestadistica.html"><i class="fa fa-check"></i><b>1.2</b> Geoestadística</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="geoestadistica.html"><a href="geoestadistica.html#modelos-clasicos-espaciales"><i class="fa fa-check"></i><b>1.2.1</b> Modelos clásicos y modelos espaciales</a></li>
<li class="chapter" data-level="1.2.2" data-path="geoestadistica.html"><a href="geoestadistica.html#ventajas-de-la-aproximación-espacial-y-espacio-temporal"><i class="fa fa-check"></i><b>1.2.2</b> Ventajas de la aproximación espacial (y espacio-temporal)</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="procesos-estacionarios.html"><a href="procesos-estacionarios.html"><i class="fa fa-check"></i><b>1.3</b> Procesos espaciales estacionarios</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="procesos-estacionarios.html"><a href="procesos-estacionarios.html#propiedades-elementales"><i class="fa fa-check"></i><b>1.3.1</b> Propiedades elementales del covariograma y del variograma</a></li>
<li class="chapter" data-level="1.3.2" data-path="procesos-estacionarios.html"><a href="procesos-estacionarios.html#procesos-agregados"><i class="fa fa-check"></i><b>1.3.2</b> Procesos agregados</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="objetivos-esquema.html"><a href="objetivos-esquema.html"><i class="fa fa-check"></i><b>1.4</b> Objetivos y pasos</a></li>
<li class="chapter" data-level="1.5" data-path="el-paquete-gstat.html"><a href="el-paquete-gstat.html"><i class="fa fa-check"></i><b>1.5</b> El paquete <strong>gstat</strong></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="datos.html"><a href="datos.html"><i class="fa fa-check"></i><b>2</b> Datos espaciales</a>
<ul>
<li class="chapter" data-level="2.1" data-path="datos-tipos.html"><a href="datos-tipos.html"><i class="fa fa-check"></i><b>2.1</b> Tipos de datos espaciales</a></li>
<li class="chapter" data-level="2.2" data-path="sf-intro.html"><a href="sf-intro.html"><i class="fa fa-check"></i><b>2.2</b> Introducción al paquete <strong>sf</strong></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="sf-intro.html"><a href="sf-intro.html#crs"><i class="fa fa-check"></i><b>2.2.1</b> Sistemas de referencia de coordenadas</a></li>
<li class="chapter" data-level="2.2.2" data-path="sf-intro.html"><a href="sf-intro.html#tidyverse-sf"><i class="fa fa-check"></i><b>2.2.2</b> Integración con el ecosistema <strong>tidyverse</strong></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="representación-de-datos-espaciales.html"><a href="representación-de-datos-espaciales.html"><i class="fa fa-check"></i><b>2.3</b> Representación de datos espaciales</a></li>
<li class="chapter" data-level="2.4" data-path="operaciones-datos.html"><a href="operaciones-datos.html"><i class="fa fa-check"></i><b>2.4</b> Operaciones con datos espaciales</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="operaciones-datos.html"><a href="operaciones-datos.html#importación-y-exportación-de-datos-espaciales"><i class="fa fa-check"></i><b>2.4.1</b> Importación y exportación de datos espaciales</a></li>
<li class="chapter" data-level="2.4.2" data-path="operaciones-datos.html"><a href="operaciones-datos.html#operaciones-con-geometrías"><i class="fa fa-check"></i><b>2.4.2</b> Operaciones con geometrías</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="sp-eda.html"><a href="sp-eda.html"><i class="fa fa-check"></i><b>2.5</b> Análisis exploratorio de datos espaciales</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modelado.html"><a href="modelado.html"><i class="fa fa-check"></i><b>3</b> Modelado de procesos geoestadísticos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="vario-muestrales.html"><a href="vario-muestrales.html"><i class="fa fa-check"></i><b>3.1</b> Estimadores muestrales del semivariograma</a></li>
<li class="chapter" data-level="3.2" data-path="modelos-variog.html"><a href="modelos-variog.html"><i class="fa fa-check"></i><b>3.2</b> Modelos de semivariogramas</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="modelos-variog.html"><a href="modelos-variog.html#modelos-parametricos"><i class="fa fa-check"></i><b>3.2.1</b> Modelos paramétricos isotrópicos</a></li>
<li class="chapter" data-level="3.2.2" data-path="modelos-variog.html"><a href="modelos-variog.html#anisotropia"><i class="fa fa-check"></i><b>3.2.2</b> Modelado de anisotropía</a></li>
<li class="chapter" data-level="3.2.3" data-path="modelos-variog.html"><a href="modelos-variog.html#vario-lin-reg"><i class="fa fa-check"></i><b>3.2.3</b> El modelo lineal de regionalización</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="ajuste-variog.html"><a href="ajuste-variog.html"><i class="fa fa-check"></i><b>3.3</b> Ajuste de un modelo válido</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ajuste-variog.html"><a href="ajuste-variog.html#ls-fit"><i class="fa fa-check"></i><b>3.3.1</b> Estimación por mínimos cuadrados</a></li>
<li class="chapter" data-level="3.3.2" data-path="ajuste-variog.html"><a href="ajuste-variog.html#trend-fit"><i class="fa fa-check"></i><b>3.3.2</b> Modelado del variograma en procesos no estacionarios</a></li>
<li class="chapter" data-level="3.3.3" data-path="ajuste-variog.html"><a href="ajuste-variog.html#ml-fit"><i class="fa fa-check"></i><b>3.3.3</b> Estimación por máxima verosimilitud</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="comentarios-sobre-los-distintos-métodos.html"><a href="comentarios-sobre-los-distintos-métodos.html"><i class="fa fa-check"></i><b>3.4</b> Comentarios sobre los distintos métodos</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="kriging.html"><a href="kriging.html"><i class="fa fa-check"></i><b>4</b> Predicción Kriging</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>4.1</b> Introducción</a></li>
<li class="chapter" data-level="4.2" data-path="ksimple.html"><a href="ksimple.html"><i class="fa fa-check"></i><b>4.2</b> Kriging con media conocida: kriging simple</a></li>
<li class="chapter" data-level="4.3" data-path="kuniversal.html"><a href="kuniversal.html"><i class="fa fa-check"></i><b>4.3</b> Kriging con media desconocida: kriging universal y kriging residual</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="kuniversal.html"><a href="kuniversal.html#ku-covariograma"><i class="fa fa-check"></i><b>4.3.1</b> Ecuaciones en función del covariograma</a></li>
<li class="chapter" data-level="4.3.2" data-path="kuniversal.html"><a href="kuniversal.html#kriging-residual"><i class="fa fa-check"></i><b>4.3.2</b> Kriging residual</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="kriging-con-el-paquete-gstat.html"><a href="kriging-con-el-paquete-gstat.html"><i class="fa fa-check"></i><b>4.4</b> Kriging con el paquete <strong>gstat</strong></a></li>
<li class="chapter" data-level="4.5" data-path="consideraciones-kriging.html"><a href="consideraciones-kriging.html"><i class="fa fa-check"></i><b>4.5</b> Consideraciones acerca de los métodos kriging</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="consideraciones-kriging.html"><a href="consideraciones-kriging.html#kriging-interpolador"><i class="fa fa-check"></i><b>4.5.1</b> Kriging como interpolador</a></li>
<li class="chapter" data-level="4.5.2" data-path="consideraciones-kriging.html"><a href="consideraciones-kriging.html#efecto-variog-kriging"><i class="fa fa-check"></i><b>4.5.2</b> Efecto del variograma (covariograma) en el kriging</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="validacion-cruzada.html"><a href="validacion-cruzada.html"><i class="fa fa-check"></i><b>4.6</b> Validación cruzada del modelo ajustado</a></li>
<li class="chapter" data-level="4.7" data-path="otros-métodos-kriging.html"><a href="otros-métodos-kriging.html"><i class="fa fa-check"></i><b>4.7</b> Otros métodos kriging</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="otros-métodos-kriging.html"><a href="otros-métodos-kriging.html#block-kriging"><i class="fa fa-check"></i><b>4.7.1</b> Block kriging</a></li>
<li class="chapter" data-level="4.7.2" data-path="otros-métodos-kriging.html"><a href="otros-métodos-kriging.html#kriging-trans-normal"><i class="fa fa-check"></i><b>4.7.2</b> Kriging trans-normal</a></li>
<li class="chapter" data-level="4.7.3" data-path="otros-métodos-kriging.html"><a href="otros-métodos-kriging.html#kriging-indicador"><i class="fa fa-check"></i><b>4.7.3</b> Kriging indicador</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivar.html"><a href="multivar.html"><i class="fa fa-check"></i><b>5</b> Procesos espaciales multivariantes</a></li>
<li class="chapter" data-level="6" data-path="esp-temp.html"><a href="esp-temp.html"><i class="fa fa-check"></i><b>6</b> Procesos espaciales espacio-temporales</a></li>
<li class="appendix"><span><b>Apendices</b></span></li>
<li class="chapter" data-level="A" data-path="intro-sp.html"><a href="intro-sp.html"><i class="fa fa-check"></i><b>A</b> Introducción al paquete <strong>sp</strong></a>
<ul>
<li class="chapter" data-level="A.1" data-path="tipos-de-objetos.html"><a href="tipos-de-objetos.html"><i class="fa fa-check"></i><b>A.1</b> Tipos de objetos</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="tipos-de-objetos.html"><a href="tipos-de-objetos.html#spatialpoints-y-spatialpointsdataframe"><i class="fa fa-check"></i><b>A.1.1</b> SpatialPoints y SpatialPointsDataFrame</a></li>
<li class="chapter" data-level="A.1.2" data-path="tipos-de-objetos.html"><a href="tipos-de-objetos.html#spatiallines-y-spatialpolygons"><i class="fa fa-check"></i><b>A.1.2</b> SpatialLines y SpatialPolygons</a></li>
<li class="chapter" data-level="A.1.3" data-path="tipos-de-objetos.html"><a href="tipos-de-objetos.html#spatialgrid-y-spatialpixels"><i class="fa fa-check"></i><b>A.1.3</b> SpatialGrid y SpatialPixels</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="métodos-y-procedimientos-clases-sp.html"><a href="métodos-y-procedimientos-clases-sp.html"><i class="fa fa-check"></i><b>A.2</b> Métodos y procedimientos clases sp</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="métodos-y-procedimientos-clases-sp.html"><a href="métodos-y-procedimientos-clases-sp.html#importarexportartransformar"><i class="fa fa-check"></i><b>A.2.1</b> Importar/exportar/transformar</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="representaciones-gráficas.html"><a href="representaciones-gráficas.html"><i class="fa fa-check"></i><b>A.3</b> Representaciones gráficas</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="representaciones-gráficas.html"><a href="representaciones-gráficas.html#gráficos-estándar"><i class="fa fa-check"></i><b>A.3.1</b> Gráficos estándar</a></li>
<li class="chapter" data-level="A.3.2" data-path="representaciones-gráficas.html"><a href="representaciones-gráficas.html#gráficos-lattice-spplot"><i class="fa fa-check"></i><b>A.3.2</b> Gráficos lattice: spplot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="intro-geoR.html"><a href="intro-geoR.html"><i class="fa fa-check"></i><b>B</b> Introducción al paquete <strong>geoR</strong></a>
<ul>
<li class="chapter" data-level="B.1" data-path="inicio-de-una-sesión-y-de-carga-de-datos.html"><a href="inicio-de-una-sesión-y-de-carga-de-datos.html"><i class="fa fa-check"></i><b>B.1</b> Inicio de una sesión y de carga de datos</a>
<ul>
<li class="chapter" data-level="B.1.1" data-path="inicio-de-una-sesión-y-de-carga-de-datos.html"><a href="inicio-de-una-sesión-y-de-carga-de-datos.html#archivos-de-datos"><i class="fa fa-check"></i><b>B.1.1</b> Archivos de datos</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="análisis-descriptivo-de-datos-geoestadísticos.html"><a href="análisis-descriptivo-de-datos-geoestadísticos.html"><i class="fa fa-check"></i><b>B.2</b> Análisis descriptivo de datos geoestadísticos</a></li>
<li class="chapter" data-level="B.3" data-path="modelado-de-la-dependencia.html"><a href="modelado-de-la-dependencia.html"><i class="fa fa-check"></i><b>B.3</b> Modelado de la dependencia</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="modelado-de-la-dependencia.html"><a href="modelado-de-la-dependencia.html#variogramas-empíricos"><i class="fa fa-check"></i><b>B.3.1</b> Variogramas empíricos</a></li>
<li class="chapter" data-level="B.3.2" data-path="modelado-de-la-dependencia.html"><a href="modelado-de-la-dependencia.html#geor-ajuste"><i class="fa fa-check"></i><b>B.3.2</b> Ajuste de un modelo de variograma</a></li>
<li class="chapter" data-level="B.3.3" data-path="modelado-de-la-dependencia.html"><a href="modelado-de-la-dependencia.html#inferencia-sobre-el-variograma"><i class="fa fa-check"></i><b>B.3.3</b> Inferencia sobre el variograma</a></li>
<li class="chapter" data-level="B.3.4" data-path="modelado-de-la-dependencia.html"><a href="modelado-de-la-dependencia.html#estimación-del-variograma-en-procesos-no-estacionarios"><i class="fa fa-check"></i><b>B.3.4</b> Estimación del variograma en procesos no estacionarios</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="predicción-espacial-kriging.html"><a href="predicción-espacial-kriging.html"><i class="fa fa-check"></i><b>B.4</b> Predicción espacial (kriging)</a>
<ul>
<li class="chapter" data-level="B.4.1" data-path="predicción-espacial-kriging.html"><a href="predicción-espacial-kriging.html#validación-cruzada"><i class="fa fa-check"></i><b>B.4.1</b> Validación cruzada</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a>
<ul>
<li class="chapter" data-level="" data-path="bibliografía-completa.html"><a href="bibliografía-completa.html"><i class="fa fa-check"></i>Bibliografía completa</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estadística Espacial con R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sf-intro" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Introducción al paquete <strong>sf</strong></h2>
<p>El modelo de geometrías de <em><a href="https://en.wikipedia.org/wiki/Simple_Features">características simples</a></em> (o rasgos simples) es un estándar (<a href="https://www.iso.org/standard/40114.html">ISO 19125</a>) desarrollado por el <a href="https://www.ogc.org">Open Geospatial Consortium</a> (OGC) para formas geográficas vectoriales, que ha sido adoptado por gran cantidad de software geográfico (entre otros por GeoJSON, ArcGIS, QGIS, PostGIS, MySQL Spatial Extensions, Microsoft SQL Server…).
Como ya se comentó, este tipo de datos espaciales está implementado en R en el paquete <a href="https://r-spatial.github.io/sf"><code>sf</code></a>.</p>
<p>Los objetos principales, del tipo <code>sf</code>, son extensiones de <code>data.frame</code> (o <code>tibble</code>) y como mínimo contienen una columna denominada <em>simple feature geometry list column</em> que contiene la geometría de cada observación (se trata de una columna tipo <code>list</code>).
Cada fila, incluyendo la geometría y otras posibles variables (denominados atributos de la geometría), se considera una característica simple (SF).</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="sf-intro.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code></pre></div>
<pre><code>## Linking to GEOS 3.9.1, GDAL 3.2.1, PROJ 7.2.1</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="sf-intro.html#cb8-1" aria-hidden="true" tabindex="-1"></a>nc <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="fu">system.file</span>(<span class="st">&quot;shape/nc.shp&quot;</span>, <span class="at">package=</span><span class="st">&quot;sf&quot;</span>), <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-2"><a href="sf-intro.html#cb8-2" aria-hidden="true" tabindex="-1"></a>nc <span class="ot">&lt;-</span> nc[<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">9</span><span class="sc">:</span><span class="dv">15</span>)]</span>
<span id="cb8-3"><a href="sf-intro.html#cb8-3" aria-hidden="true" tabindex="-1"></a>nc</span></code></pre></div>
<pre><code>## Simple feature collection with 100 features and 7 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965
## Geodetic CRS:  NAD27
## First 10 features:
##           NAME BIR74 SID74 NWBIR74 BIR79 SID79 NWBIR79
## 1         Ashe  1091     1      10  1364     0      19
## 2    Alleghany   487     0      10   542     3      12
## 3        Surry  3188     5     208  3616     6     260
## 4    Currituck   508     1     123   830     2     145
## 5  Northampton  1421     9    1066  1606     3    1197
## 6     Hertford  1452     7     954  1838     5    1237
## 7       Camden   286     0     115   350     2     139
## 8        Gates   420     0     254   594     2     371
## 9       Warren   968     4     748  1190     2     844
## 10      Stokes  1612     1     160  2038     5     176
##                          geometry
## 1  MULTIPOLYGON (((-81.47276 3...
## 2  MULTIPOLYGON (((-81.23989 3...
## 3  MULTIPOLYGON (((-80.45634 3...
## 4  MULTIPOLYGON (((-76.00897 3...
## 5  MULTIPOLYGON (((-77.21767 3...
## 6  MULTIPOLYGON (((-76.74506 3...
## 7  MULTIPOLYGON (((-76.00897 3...
## 8  MULTIPOLYGON (((-76.56251 3...
## 9  MULTIPOLYGON (((-78.30876 3...
## 10 MULTIPOLYGON (((-80.02567 3...</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="sf-intro.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(nc)</span></code></pre></div>
<pre><code>## Classes &#39;sf&#39; and &#39;data.frame&#39;:   100 obs. of  8 variables:
##  $ NAME    : chr  &quot;Ashe&quot; &quot;Alleghany&quot; &quot;Surry&quot; &quot;Currituck&quot; ...
##  $ BIR74   : num  1091 487 3188 508 1421 ...
##  $ SID74   : num  1 0 5 1 9 7 0 0 4 1 ...
##  $ NWBIR74 : num  10 10 208 123 1066 ...
##  $ BIR79   : num  1364 542 3616 830 1606 ...
##  $ SID79   : num  0 3 6 2 3 5 2 2 2 5 ...
##  $ NWBIR79 : num  19 12 260 145 1197 ...
##  $ geometry:sfc_MULTIPOLYGON of length 100; first list element: List of 1
##   ..$ :List of 1
##   .. ..$ : num [1:27, 1:2] -81.5 -81.5 -81.6 -81.6 -81.7 ...
##   ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;XY&quot; &quot;MULTIPOLYGON&quot; &quot;sfg&quot;
##  - attr(*, &quot;sf_column&quot;)= chr &quot;geometry&quot;
##  - attr(*, &quot;agr&quot;)= Factor w/ 3 levels &quot;constant&quot;,&quot;aggregate&quot;,..: NA NA NA NA NA NA NA
##   ..- attr(*, &quot;names&quot;)= chr [1:7] &quot;NAME&quot; &quot;BIR74&quot; &quot;SID74&quot; &quot;NWBIR74&quot; ...</code></pre>
<p>El nombre de la columna de geometrías está almacenado en el atributo <code>"sf_column"</code> del objeto y se puede acceder a ella mediante la función <code>st_geometry()</code> (además de poder emplear los procedimientos habituales para acceder a los componentes de un <code>data.frame</code>).
Esta columna es un objeto de tipo <code>sfc</code> (<em>simple feature geometry list column</em>), descritos más adelante.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="sf-intro.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_name &lt;- attr(nc, &quot;sf_column&quot;)</span></span>
<span id="cb12-2"><a href="sf-intro.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># nc[, geom_name]; nc[[geom_name]]</span></span>
<span id="cb12-3"><a href="sf-intro.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># nc$geometry</span></span>
<span id="cb12-4"><a href="sf-intro.html#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">st_geometry</span>(nc)</span></code></pre></div>
<pre><code>## Geometry set for 100 features 
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965
## Geodetic CRS:  NAD27
## First 5 geometries:</code></pre>
<pre><code>## MULTIPOLYGON (((-81.47276 36.23436, -81.54084 3...</code></pre>
<pre><code>## MULTIPOLYGON (((-81.23989 36.36536, -81.24069 3...</code></pre>
<pre><code>## MULTIPOLYGON (((-80.45634 36.24256, -80.47639 3...</code></pre>
<pre><code>## MULTIPOLYGON (((-76.00897 36.3196, -76.01735 36...</code></pre>
<pre><code>## MULTIPOLYGON (((-77.21767 36.24098, -77.23461 3...</code></pre>
<p>En este paquete, todos los métodos y funciones que operan sobre datos espaciales comienzan por <code>st_</code> (<em>spatial type</em>; siguiendo la implementación de PostGIS):</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="sf-intro.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">methods</span>(<span class="at">class=</span><span class="st">&quot;sf&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] $&lt;-                   [                     [[&lt;-                 
##  [4] aggregate             as.data.frame         cbind                
##  [7] coerce                dbDataType            dbWriteTable         
## [10] filter                identify              initialize           
## [13] merge                 plot                  print                
## [16] rbind                 show                  slotsFromS3          
## [19] st_agr                st_agr&lt;-              st_area              
## [22] st_as_s2              st_as_sf              st_bbox              
## [25] st_boundary           st_buffer             st_cast              
## [28] st_centroid           st_collection_extract st_convex_hull       
## [31] st_coordinates        st_crop               st_crs               
## [34] st_crs&lt;-              st_difference         st_filter            
## [37] st_geometry           st_geometry&lt;-         st_inscribed_circle  
## [40] st_interpolate_aw     st_intersection       st_intersects        
## [43] st_is                 st_is_valid           st_join              
## [46] st_line_merge         st_m_range            st_make_valid        
## [49] st_nearest_points     st_node               st_normalize         
## [52] st_point_on_surface   st_polygonize         st_precision         
## [55] st_reverse            st_sample             st_segmentize        
## [58] st_set_precision      st_shift_longitude    st_simplify          
## [61] st_snap               st_sym_difference     st_transform         
## [64] st_triangulate        st_union              st_voronoi           
## [67] st_wrap_dateline      st_write              st_z_range           
## [70] st_zm                 transform            
## see &#39;?methods&#39; for accessing help and source code</code></pre>
<p>Los objetos geométricos básicos son del tipo <code>sfg</code> (<em>simple feature geometry</em>) que contienen la geometría de una única característica definida a partir de puntos en dos (XY), tres (XYZ, XYM) o cuatro dimensiones (XYZM).
Admite los 17 tipos de geometrías simples del estándar, pero de forma completa los 7 tipos básicos:</p>
<table>
<colgroup>
<col width="19%" />
<col width="60%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th>Tipo</th>
<th>Description</th>
<th>Creación</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>POINT</code>, <code>MULTIPOINT</code></td>
<td>Punto o conjunto de puntos</td>
<td><code>st_point()</code>, <code>st_multipoint()</code></td>
</tr>
<tr class="even">
<td><code>LINESTRING</code>, <code>MULTILINESTRING</code></td>
<td>Línea o conjunto de líneas</td>
<td><code>st_linestring()</code>, <code>st_multilinestring()</code></td>
</tr>
<tr class="odd">
<td><code>POLYGON</code>, <code>MULTIPOLYGON</code></td>
<td>Polígono<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a> o conjunto de polígonos</td>
<td><code>st_polygon()</code>, <code>st_multipolygon()</code></td>
</tr>
<tr class="even">
<td><code>GEOMETRYCOLLECTION</code></td>
<td>Conjunto de geometrías de los tipos anteriores</td>
<td><code>st_geometrycollection()</code></td>
</tr>
</tbody>
</table>
<p>Las geometrías se imprimen empleando la representación <em>well-known text</em> (WKT) del estándar (se exportan empleando la representación <em>well-known binary</em>, WKB).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="sf-intro.html#cb21-1" aria-hidden="true" tabindex="-1"></a>nc<span class="sc">$</span>geometry[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## MULTIPOLYGON (((-81.47276 36.23436, -81.54084 36.27251, -81.56198 36.27359, -81.63306 36.34069, -81.74107 36.39178, -81.69828 36.47178, -81.7028 36.51934, -81.67 36.58965, -81.3453 36.57286, -81.34754 36.53791, -81.32478 36.51368, -81.31332 36.4807, -81.26624 36.43721, -81.26284 36.40504, -81.24069 36.37942, -81.23989 36.36536, -81.26424 36.35241, -81.32899 36.3635, -81.36137 36.35316, -81.36569 36.33905, -81.35413 36.29972, -81.36745 36.2787, -81.40639 36.28505, -81.41233 36.26729, -81.43104 36.26072, -81.45289 36.23959, -81.47276 36.23436)))</code></pre>
<p>Los objetos básicos <code>sfg</code> (normalmente del mismo tipo) se pueden combinar en un objeto <code>sfc</code> (<em>simple feature geometry list column</em>) mediante la función <code>st_sfg()</code>.
Estos objetos pueden incorporar un sistema de referencia de coordenadas (por defecto <code>NA_crs_</code>), descritos en la Sección <a href="sf-intro.html#crs">2.2.1</a>.
Posteriormente se puede crear un objeto <code>sf</code> mediante la función <code>st_sf()</code>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="sf-intro.html#cb23-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">st_point</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">8.395835</span>, <span class="fl">43.37087</span>))</span>
<span id="cb23-2"><a href="sf-intro.html#cb23-2" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">st_point</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">7.555851</span>, <span class="fl">43.01208</span>))</span>
<span id="cb23-3"><a href="sf-intro.html#cb23-3" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">st_point</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">7.864641</span>, <span class="fl">42.34001</span>))</span>
<span id="cb23-4"><a href="sf-intro.html#cb23-4" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">st_point</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">8.648053</span>, <span class="fl">42.43362</span>))</span>
<span id="cb23-5"><a href="sf-intro.html#cb23-5" aria-hidden="true" tabindex="-1"></a>sfc <span class="ot">&lt;-</span> <span class="fu">st_sfc</span>(<span class="fu">list</span>(p1, p2, p3, p4))</span>
<span id="cb23-6"><a href="sf-intro.html#cb23-6" aria-hidden="true" tabindex="-1"></a>cprov <span class="ot">&lt;-</span> <span class="fu">st_sf</span>(<span class="at">names =</span> <span class="fu">c</span>(<span class="st">&#39;Coruña (A)&#39;</span>, <span class="st">&#39;Lugo&#39;</span>, <span class="st">&#39;Ourense&#39;</span>, <span class="st">&#39;Pontevedra&#39;</span>),</span>
<span id="cb23-7"><a href="sf-intro.html#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> sfc)</span>
<span id="cb23-8"><a href="sf-intro.html#cb23-8" aria-hidden="true" tabindex="-1"></a>cprov</span></code></pre></div>
<pre><code>## Simple feature collection with 4 features and 1 field
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -8.648053 ymin: 42.34001 xmax: -7.555851 ymax: 43.37087
## CRS:           NA
##        names                       geom
## 1 Coruña (A) POINT (-8.395835 43.37087)
## 2       Lugo POINT (-7.555851 43.01208)
## 3    Ourense POINT (-7.864641 42.34001)
## 4 Pontevedra POINT (-8.648053 42.43362)</code></pre>
<p>Esta forma de proceder puede resultar de interés cuando se construyen geometrías tipo líneas o polígonos, pero en el caso de datos puntuales (las observaciones habituales en geoestadística), resulta mucho más cómodo emplear un <code>data.frame</code> que incluya las coordenadas en columnas y convertirlo a un objeto <code>sf</code> mediante la función <code>st_as_sf()</code>.</p>
<hr />

<div class="exercise">
<p><span id="exr:sfc" class="exercise"><strong>Ejercicio 2.1  (Creación de una columna de geometrías)  </strong></span>Crear una geometría (un objeto <code>sfc</code>) formada por: dos puntos en las posiciones
(1,5) y (5,5), una línea entre los puntos (1,1) y (5,1), y un polígono, con vértices
{(0,0), (6,0), (6,6), (0,6), (0,0)} y con un agujero con vértices {(2,2), (2,4),
(4,4), (4,2), (2,2)} (NOTA: consultar la ayuda <code>?st</code>, puede resultar cómodo emplear
<code>matrix(... , ncol = 2, byrow = TRUE)</code>).</p>
</div>
<!-- \@ref(exr:sfc) -->
<hr />
<p>Como ejemplo consideraremos el conjunto de datos <code>meuse</code> del paquete <code>sp</code> que contiene concentraciones de metales pesados, junto con otras variables del terreno, en una zona de inundación del río Meuse (cerca de Stein, Holanda)<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> (ver Figura <a href="sf-intro.html#fig:meuse-sf">2.1</a>).</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="sf-intro.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(meuse, <span class="at">package=</span><span class="st">&quot;sp&quot;</span>)</span>
<span id="cb25-2"><a href="sf-intro.html#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(meuse)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    155 obs. of  14 variables:
##  $ x      : num  181072 181025 181165 181298 181307 ...
##  $ y      : num  333611 333558 333537 333484 333330 ...
##  $ cadmium: num  11.7 8.6 6.5 2.6 2.8 3 3.2 2.8 2.4 1.6 ...
##  $ copper : num  85 81 68 81 48 61 31 29 37 24 ...
##  $ lead   : num  299 277 199 116 117 137 132 150 133 80 ...
##  $ zinc   : num  1022 1141 640 257 269 ...
##  $ elev   : num  7.91 6.98 7.8 7.66 7.48 ...
##  $ dist   : num  0.00136 0.01222 0.10303 0.19009 0.27709 ...
##  $ om     : num  13.6 14 13 8 8.7 7.8 9.2 9.5 10.6 6.3 ...
##  $ ffreq  : Factor w/ 3 levels &quot;1&quot;,&quot;2&quot;,&quot;3&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ soil   : Factor w/ 3 levels &quot;1&quot;,&quot;2&quot;,&quot;3&quot;: 1 1 1 2 2 2 2 1 1 2 ...
##  $ lime   : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 2 2 2 1 1 1 1 1 1 1 ...
##  $ landuse: Factor w/ 15 levels &quot;Aa&quot;,&quot;Ab&quot;,&quot;Ag&quot;,..: 4 4 4 11 4 11 4 2 2 15 ...
##  $ dist.m : num  50 30 150 270 380 470 240 120 240 420 ...</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="sf-intro.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ?meuse </span></span>
<span id="cb27-2"><a href="sf-intro.html#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Sistema de coordenadas Rijksdriehoek (RDH) (Netherlands topographical) </span></span>
<span id="cb27-3"><a href="sf-intro.html#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># https://epsg.io/28992 # EPSG:28992</span></span>
<span id="cb27-4"><a href="sf-intro.html#cb27-4" aria-hidden="true" tabindex="-1"></a>meuse_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(meuse, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), <span class="at">crs =</span> <span class="dv">28992</span>, <span class="at">agr =</span> <span class="st">&quot;constant&quot;</span>)</span>
<span id="cb27-5"><a href="sf-intro.html#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="sf-intro.html#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Rio Meuse </span></span>
<span id="cb27-7"><a href="sf-intro.html#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(meuse.riv, <span class="at">package=</span><span class="st">&quot;sp&quot;</span>)</span>
<span id="cb27-8"><a href="sf-intro.html#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(meuse.riv)</span></code></pre></div>
<pre><code>##  num [1:176, 1:2] 182004 182137 182252 182315 182332 ...</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="sf-intro.html#cb29-1" aria-hidden="true" tabindex="-1"></a>meuse_riv <span class="ot">&lt;-</span> <span class="fu">st_sfc</span>(<span class="fu">st_polygon</span>(<span class="fu">list</span>(meuse.riv)), <span class="at">crs =</span> <span class="dv">28992</span>)</span>
<span id="cb29-2"><a href="sf-intro.html#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="sf-intro.html#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Rejilla</span></span>
<span id="cb29-4"><a href="sf-intro.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(meuse.grid, <span class="at">package=</span><span class="st">&quot;sp&quot;</span>)</span>
<span id="cb29-5"><a href="sf-intro.html#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(meuse.grid)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3103 obs. of  7 variables:
##  $ x     : num  181180 181140 181180 181220 181100 ...
##  $ y     : num  333740 333700 333700 333700 333660 ...
##  $ part.a: num  1 1 1 1 1 1 1 1 1 1 ...
##  $ part.b: num  0 0 0 0 0 0 0 0 0 0 ...
##  $ dist  : num  0 0 0.0122 0.0435 0 ...
##  $ soil  : Factor w/ 3 levels &quot;1&quot;,&quot;2&quot;,&quot;3&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ ffreq : Factor w/ 3 levels &quot;1&quot;,&quot;2&quot;,&quot;3&quot;: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="sf-intro.html#cb31-1" aria-hidden="true" tabindex="-1"></a>meuse_grid <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(meuse.grid, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), </span>
<span id="cb31-2"><a href="sf-intro.html#cb31-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">crs =</span> <span class="dv">28992</span>, <span class="at">agr =</span> <span class="st">&quot;constant&quot;</span>)</span>
<span id="cb31-3"><a href="sf-intro.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Almacenar</span></span>
<span id="cb31-4"><a href="sf-intro.html#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># save(meuse_sf, meuse_riv, meuse_grid, file = &quot;datos/st_meuse.RData&quot;)</span></span>
<span id="cb31-5"><a href="sf-intro.html#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="sf-intro.html#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Representar</span></span>
<span id="cb31-7"><a href="sf-intro.html#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(meuse_sf[<span class="st">&quot;zinc&quot;</span>], <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="fl">1.5</span>, <span class="at">main =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb31-8"><a href="sf-intro.html#cb31-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">breaks =</span> <span class="st">&quot;quantile&quot;</span>, <span class="at">key.pos =</span> <span class="dv">4</span>, <span class="at">reset =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-9"><a href="sf-intro.html#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(meuse_riv, <span class="at">col =</span> <span class="st">&quot;lightblue&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-10"><a href="sf-intro.html#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(meuse_grid), <span class="at">pch =</span> <span class="dv">3</span>, <span class="at">cex =</span> <span class="fl">0.2</span>, <span class="at">col =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="at">add =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:meuse-sf"></span>
<img src="02-datos_files/figure-html/meuse-sf-1.png" alt="Concentración de zinc (ppm) en el entorno del río Meuse (datos `sp::meuse`)." width="70%" />
<p class="caption">
Figura 2.1: Concentración de zinc (ppm) en el entorno del río Meuse (datos <code>sp::meuse</code>).
</p>
</div>
<hr />

<div class="exercise">
<p><span id="exr:aquifer1" class="exercise"><strong>Ejercicio 2.2  (Creación y representación de datos espaciales)  </strong></span>Cargar los datos del acuífero Wolfcamp (<em>aquifer.RData</em>), generar el correspondiente
objeto <code>sf</code> y representarlo mostrando los ejes.</p>
</div>
<!-- \@ref(exr:aquifer1) -->
<hr />
<div id="crs" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Sistemas de referencia de coordenadas</h3>
<p>El sistema de referencia de coordenadas (CRS) especifica la correspondencia entre valores de las coordenadas y puntos concretos en la superficie de la Tierra (o del espacio), y resulta fundamental cuando se combinan datos espaciales.
En general se consideran dos tipos de CRS:</p>
<ul>
<li><p>Geodésico: las coordenadas en tres dimensiones (latitud, longitud y altura) se basan en un elipsoide de referencia (global o local) que sirve como aproximación del globo terrestre (se tiene en cuenta que no es una esfera perfecta e incluso que puede haber variaciones locales). Este elipsoide, junto con información adicional sobre como interpretar las coordenadas (incluyendo el orden y el origen), define el denominado <em>datum</em>. Normalmente se asume que las coordenadas son en la superficie terrestre y solo se consideran:</p>
<ul>
<li>latitud: ángulo entre el plano ecuatorial y la línea que une la posición con el centro de la Tierra. Varía desde -90 (polo sur) hasta 90 (polo norte). Un grado equivale aproximadamente a 110.6 km. Los paralelos son las líneas en la superficie terrestre correspondientes a la misma latitud (siendo el 0 el ecuador).</li>
<li>longitud: ángulo (paralelo al plano ecuatorial) entre un meridiano de referencia (arco máximo que une los polos pasando por una determinado punto, normalmente el observatorio de Greenwich) y la línea que une la posición con el centro de la Tierra. Varía desde -180 (oeste) hasta 180 (este). Un grado en el ecuador equivale a aproximadamente a 111.3 km. Los meridianos son las líneas en la superficie terrestre correspondientes a la misma longitud (siendo el 0 el meridiano de Greenwich y -180 o 180 el correspondiente antimeridiano).</li>
</ul>
<p>La rejilla correspondiente a un conjunto de paralelos y meridianos se denomina <em>gratícula</em> (ver <code>st_graticule()</code>).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:latlon"></span>
<img src="images/Latitud_y_Longitud.svg" alt="Coordenadas geográficas en la superficie terrestre (Fuente Wikimedia Commons)." width="85%" />
<p class="caption">
Figura 2.2: Coordenadas geográficas en la superficie terrestre (Fuente Wikimedia Commons).
</p>
</div>
<!-- 
[Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Latitud_y_Longitud_en_la_Tierra.svg) 
https://upload.wikimedia.org/wikipedia/commons/5/58/Latitud_y_Longitud_en_la_Tierra.svg
-->
<p>Uno de los CRS más empleados es el WGS84 (<em>World Geodetic System 1984</em>) en el que se basa el <em>Sistema de Posicionamiento Global</em> (GPS).</p></li>
<li><p>Proyectado (cartesiano): sistema (local) en dos dimensiones que facilita algún tipo de cálculo (normalmente distancias o áreas). Por ejemplo el UTM (<em>Universal Transverse Mercator</em>), que emplea coordenadas en metros respecto a una cuadrícula de referencia (se divide la tierra en 60 husos de longitud, numerados, y 20 bandas de latitud, etiquetadas con letras; por ejemplo Galicia se encuentra en la cuadricula 29T). Se define relacionando estas coordenadas cartesianas con coordenadas geodésicas con un determinado datum.</p></li>
</ul>
<p>En <code>sf</code> se emplea la librería <a href="http://proj.org/">PRØJ</a> para definir el CRS y convertir coordenadas en distintos sistemas<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>.
Para obtener o establecer el CRS se puede emplear la función <code>st_crs()</code>.
Se puede especificar mediante una cadena de texto que admita <a href="https://gdal.org/tutorials/osr_api_tut.html">GDAL</a> (por ejemplo <code>"WGS84"</code>, que se corresponde con el <em>World Geodetic System 1984</em>), que típicamente es de la forma ESTÁNDAR:CÓDIGO (también puede ser una cadena de texto <em>PROJ.4</em>).
El estándar más empleado es el <a href="https://epsg.org">EPSG</a> (<em>European Petroleum Survey Group</em>), y es que que da por hecho el paquete <code>sf</code> cuando se especifica el CRS mediante un número.
También admite el estándar <a href="http://www.opengeospatial.org/standards/wkt-crs">OGC WKT</a> (<em>Open Geospatial Consortium well-known text</em>) que es el que emplea internamente, pero resulta complicado manejar en la práctica.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="sf-intro.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(<span class="st">&quot;WGS84&quot;</span>)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: WGS84 
##   wkt:
## GEOGCRS[&quot;WGS 84&quot;,
##     DATUM[&quot;World Geodetic System 1984&quot;,
##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
##             LENGTHUNIT[&quot;metre&quot;,1]]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     ID[&quot;EPSG&quot;,4326]]</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="sf-intro.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(<span class="fu">st_crs</span>(<span class="dv">4326</span>), <span class="fu">st_crs</span>(<span class="st">&quot;EPSG:4326&quot;</span>), <span class="fu">st_crs</span>(<span class="st">&quot;WGS84&quot;</span>))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="sf-intro.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(nc)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: NAD27 
##   wkt:
## GEOGCRS[&quot;NAD27&quot;,
##     DATUM[&quot;North American Datum 1927&quot;,
##         ELLIPSOID[&quot;Clarke 1866&quot;,6378206.4,294.978698213898,
##             LENGTHUNIT[&quot;metre&quot;,1]]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;latitude&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;longitude&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     ID[&quot;EPSG&quot;,4267]]</code></pre>
<p>En <a href="https://spatialreference.org">spatialreference.org</a> se puede obtener información detallada sobre una gran cantidad de proyecciones (y permite realizar búsquedas).
También puede ser de utilidad <a href="https://epsg.io">epsg.io</a> o este <a href="https://proj.org/operations/projections">listado</a> con detalles de los parámetros.</p>
<!-- 
Pendiente: 
?sf_proj_network
https://cdn.proj.org/ 
-->
<p>El CRS ideal dependerá del tipo de problema y de la zona cubierta por los datos (ver e.g Lovelace et al, 2021, <a href="https://geocompr.robinlovelace.net/reproj-geo-data.html#which-crs-to-use">Sección 6.3</a>, para más información).
En general en estadística espacial nos interesará trabajar con coordenadas proyectadas, de forma que tenga sentido emplear la distancia euclídea (algo que puede ser poco o nada razonable si se trabaja con coordenadas geodésicas en una zona muy amplia del globo o cerca de los polos).
En el caso de coordenadas sin proyectar (latitud/longitud) puede ser preferible trabajar con distancias ortodrómicas (longitud del arco del círculo máximo que une los puntos, <em>great circle distances</em>)<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>.
Es importante destacar que cambiar el CRS no reproyecta los datos, hay que emplear <code>st_transform()</code> para hacerlo, como se describe en la Sección <a href="operaciones-datos.html#operaciones-datos">2.4</a>.</p>
<p>Finalmente hay que insistir también en que el campo de aplicación de la estadística espacial no se restringe al análisis de datos geográficos (por ejemplo nos puede interesar analizar el desgaste en la pared de un crisol empleado en fundición) y en estos casos los CRS geográficos carecen de sentido.
De todos modos habrá que emplear un sistema de coordenadas que permita calcular algún tipo de salto o distancia entre puntos (aunque siempre se pueden considerar coordenadas espaciales tres dimensiones con la distancia euclídea).</p>
</div>
<div id="tidyverse-sf" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Integración con el ecosistema <strong>tidyverse</strong></h3>
<p>El paquete <code>sf</code> es compatible con <a href="http://tidyverse.org"><code>tidyverse</code></a> y proporciona métodos para interactuar con los paquetes <a href="https://dplyr.tidyverse.org"><code>dplyr</code></a>,
<a href="http://tidyr.tidyverse.org"><code>tidyr</code></a> y <a href="https://ggplot2.tidyverse.org"><code>ggplot2</code></a>.</p>
<p>Algunos de los métodos de interés para manipular datos espaciales con el paquete <a href="https://dplyr.tidyverse.org"><code>dplyr</code></a> son:</p>
<ul>
<li><code>filter()</code>, <code>select()</code>, <code>mutate()</code>, <code>summarise(..., do_union = TRUE, is_coverage = FALSE)</code>, <code>group_by()</code>, <code>ungroup()</code>, etc.</li>
<li><code>inner_join()</code>, <code>left_join()</code>, <code>right_join()</code>, <code>full_join()</code>, <code>semi_join()</code>, <code>anti_join()</code>, <code>st_join()</code>.</li>
<li><code>st_drop_geometry()</code>, <code>st_set_crs()</code>.</li>
</ul>
<p>Para detalles ver la <a href="https://r-spatial.github.io/sf/reference/tidyverse.html">referencia</a>.</p>
<!-- , `rowwise()`,  `transmute()`, `rename()`, `arrange()`, `slice()`,  `distinct()`, `gather()`, `spread()`, `sample_n()`, `sample_frac()`, `nest()`, `separate()`, `separate_rows()`, `unite()`, `unnest()`,  -->
<p>En el caso del paquete <a href="https://ggplot2.tidyverse.org"><code>ggplot2</code></a> se puede consultar la <a href="https://ggplot2.tidyverse.org/reference/ggsf.html">referencia</a> y el tutorial <em>Drawing beautiful maps programmatically with R, sf and ggplot2</em>:</p>
<ul>
<li><a href="https://r-spatial.org/r/2018/10/25/ggplot2-sf.html">Part 1: Basics (General concepts illustrated with the world Map)</a>.</li>
<li><a href="https://r-spatial.org/r/2018/10/25/ggplot2-sf-2.html">Part 2: Layers (Adding additional layers: an example with points and polygons)</a>.</li>
<li><a href="https://r-spatial.org/r/2018/10/25/ggplot2-sf-3.html">Part 3: Layouts (Positioning and layout for complex maps)</a>.</li>
</ul>
<p>Por ejemplo, se puede generar un gráfico similar al de la Figura <a href="proc-esp.html#fig:mortalidad">1.2</a> (porcentaje de incremento de las defunciones en el año 2020 respecto al 2019 en las CCAA españolas; datos provisionales <a href="https://www.ine.es/jaxi/Tabla.htm?tpx=21856&amp;L=0">INE</a>), con el siguiente código:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="sf-intro.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb38-2"><a href="sf-intro.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapSpain) </span>
<span id="cb38-3"><a href="sf-intro.html#cb38-3" aria-hidden="true" tabindex="-1"></a>mortalidad <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="st">&quot;datos/mortalidad.csv&quot;</span>)</span>
<span id="cb38-4"><a href="sf-intro.html#cb38-4" aria-hidden="true" tabindex="-1"></a>CCAA_sf <span class="ot">&lt;-</span> <span class="fu">esp_get_ccaa</span>() <span class="sc">%&gt;%</span> <span class="fu">left_join</span>(mortalidad) <span class="sc">%&gt;%</span></span>
<span id="cb38-5"><a href="sf-intro.html#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">incremento =</span> <span class="dv">100</span><span class="sc">*</span>(mort<span class="fl">.2020</span> <span class="sc">-</span> mort<span class="fl">.2019</span>)<span class="sc">/</span>mort<span class="fl">.2019</span>)</span>
<span id="cb38-6"><a href="sf-intro.html#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="sf-intro.html#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb38-8"><a href="sf-intro.html#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(CCAA_sf) <span class="sc">+</span></span>
<span id="cb38-9"><a href="sf-intro.html#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> incremento), <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>) <span class="sc">+</span></span>
<span id="cb38-10"><a href="sf-intro.html#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(<span class="at">colors =</span> <span class="fu">hcl.colors</span>(<span class="dv">10</span>, <span class="st">&quot;Blues&quot;</span>, <span class="at">rev =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb38-11"><a href="sf-intro.html#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf_label</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(incremento, <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb38-12"><a href="sf-intro.html#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> <span class="fu">esp_get_can_box</span>(), <span class="at">color =</span> <span class="st">&quot;grey70&quot;</span>) <span class="sc">+</span> </span>
<span id="cb38-13"><a href="sf-intro.html#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:dplyr-ggplot"></span>
<img src="02-datos_files/figure-html/dplyr-ggplot-1.png" alt="Ejemplo de gráfico generado empleando los paquetes `dplyr` y `ggplot2`." width="70%" />
<p class="caption">
Figura 2.3: Ejemplo de gráfico generado empleando los paquetes <code>dplyr</code> y <code>ggplot2</code>.
</p>
</div>
<p>Sin embargo, en este libro se supone que no se está familiarizado con estas herramientas y se evitará su uso (aunque pueden resultar más cómodas después de su aprendizaje).
Para una introducción a <a href="https://dplyr.tidyverse.org"><code>dplyr</code></a>, ver por ejemplo la viñeta <a href="https://cran.rstudio.com/web/packages/dplyr/vignettes/dplyr.html">Introduction to dplyr</a>,
el <a href="http://r4ds.had.co.nz/transform.html">Capítulo 5</a> del libro <a href="http://r4ds.had.co.nz">R for Data Science</a> o el <a href="https://gltaboada.github.io/tgdbook/dplyr.html">Capítulo 4</a> de los apuntes <a href="https://gltaboada.github.io/tgdbook">Prácticas de Tecnologías de Gestión y Manipulación de Datos</a>.</p>
<p>No obstante, en ciertas ocasiones emplearemos el operador <em>pipe</em> <code>%&gt;%</code> (tubería, redirección) por comodidad.
Este operador permite canalizar la salida de una función a la entrada de otra.
Por ejemplo <code>segundo(primero(datos))</code> se traduce en <code>datos %&gt;% primero %&gt;% segundo</code>
(facilitando la lectura de expresiones de izquierda a derecha).</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="6">
<li id="fn6"><p>Secuencia de puntos que forma un anillo cerrado, que no se interseca; el primero anillo definen el anillo exterior, anillos posteriores definen agujeros. Según la norma, los puntos del anillo exterior deben especificarse en sentido contrario a las agujas del reloj y los de los agujeros en sentido de las agujas del reloj.<a href="sf-intro.html#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>Empleado en la <a href="https://cran.r-project.org/web/packages/gstat/vignettes/gstat.pdf">viñeta</a> del paquete <code>gstat</code> con el paquete <code>sp</code>.<a href="sf-intro.html#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>El paquete <code>sf</code> admite las últimas versiones PROJ 5 y 6, incluyendo el formato WKT-2 de 2019, mientras que el paquete <code>sp</code> está diseñado para cadenas de texto <em>PROJ.4</em> que se recomiendan abandonar (las últimas versiones permiten añadir una cadena WKT2 como <code>comment</code>).<a href="sf-intro.html#fnref8" class="footnote-back">↩︎</a></p></li>
<li id="fn9"><p>Algo que ya hace de forma automática el paquete <code>gstat</code>.<a href="sf-intro.html#fnref9" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="datos-tipos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="representación-de-datos-espaciales.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rubenfcasal/estadistica_espacial/edit/master/02-datos.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["estadistica_espacial.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
